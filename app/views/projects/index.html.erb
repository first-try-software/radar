<div class="grid">
  <div class="card root-projects-card">
    <h2 class="section-title">Projects</h2>
    <% if defined?(@errors) && @errors.present? %>
      <div class="errors">
        <ul>
          <% @errors.each do |err| %>
            <li><%= err %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <ul class="list">
      <%= render partial: 'projects/project_list_item', collection: @projects, as: :project %>
      <li class="list-item">
        <%= form_with model: ProjectRecord.new,
                      url: projects_path,
                      method: :post,
                      scope: :project,
                      local: true,
                      html: { class: 'child-form' } do |form| %>
          <div class="child-actions">
            <%= form.text_field :name, required: true, placeholder: 'New root project name' %>
            <%= form.submit 'Add', class: 'btn secondary' %>
          </div>
        <% end %>
      </li>
    </ul>
  </div>
</div>
